#!/bin/bash

# Quick Deploy Commands for SoloMemo
# Save this file for quick reference

echo "=========================================="
echo "SoloMemo Quick Deploy Reference"
echo "=========================================="
echo ""
echo "üåê Domain: solo.pontium.org"
echo "üñ•Ô∏è  Server: ubuntu@mypetpaw.net"
echo "üìÅ Directory: /home/ubuntu/SoloMemo"
echo ""
echo "=========================================="
echo "QUICK COMMANDS"
echo "=========================================="
echo ""
echo "1Ô∏è‚É£  SSH Connect:"
echo "   ssh ubuntu@mypetpaw.net"
echo ""
echo "2Ô∏è‚É£  Initial Deploy:"
echo "   cd ~"
echo "   git clone <repo-url> SoloMemo"
echo "   cd SoloMemo"
echo "   chmod +x deploy.sh"
echo "   ./deploy.sh"
echo ""
echo "3Ô∏è‚É£  Update (after code changes):"
echo "   cd ~/SoloMemo"
echo "   ./update.sh"
echo ""
echo "4Ô∏è‚É£  View Logs:"
echo "   cd ~/SoloMemo"
echo "   docker-compose -f docker-compose.prod.yml logs -f"
echo ""
echo "5Ô∏è‚É£  Restart Containers:"
echo "   cd ~/SoloMemo"
echo "   docker-compose -f docker-compose.prod.yml restart"
echo ""
echo "6Ô∏è‚É£  Stop All:"
echo "   cd ~/SoloMemo"
echo "   docker-compose -f docker-compose.prod.yml down"
echo ""
echo "7Ô∏è‚É£  Manual Backup:"
echo "   /usr/local/bin/solomemo-backup.sh"
echo ""
echo "8Ô∏è‚É£  SSL Certificate Renewal:"
echo "   sudo certbot renew"
echo ""
echo "=========================================="
echo "TROUBLESHOOTING"
echo "=========================================="
echo ""
echo "‚ùå 502 Bad Gateway:"
echo "   docker-compose -f docker-compose.prod.yml restart app"
echo "   sudo systemctl restart nginx"
echo ""
echo "‚ùå Database Error:"
echo "   docker-compose -f docker-compose.prod.yml restart db"
echo "   docker-compose -f docker-compose.prod.yml logs db"
echo ""
echo "‚ùå Clear All Caches:"
echo "   docker-compose -f docker-compose.prod.yml exec app php artisan cache:clear"
echo "   docker-compose -f docker-compose.prod.yml exec app php artisan config:clear"
echo "   docker-compose -f docker-compose.prod.yml exec app php artisan route:clear"
echo ""
echo "=========================================="
echo "IMPORTANT FILES"
echo "=========================================="
echo ""
echo "üìÑ Environment: ~/SoloMemo/backend/.env"
echo "üìÑ Nginx Config: /etc/nginx/sites-available/solo.pontium.org"
echo "üìÑ SSL Cert: /etc/letsencrypt/live/solo.pontium.org/"
echo "üìÑ Backup Script: /usr/local/bin/solomemo-backup.sh"
echo ""
echo "=========================================="
